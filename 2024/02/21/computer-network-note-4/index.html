<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Charles">
    
    <meta name="author" content="Charles">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
        
        
        
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://charles2530.github.io/2024/02/21/computer-network-note-4/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="post by Charles in 2024-02-21 11:22:53">
<meta property="og:type" content="article">
<meta property="og:title" content="computer-network-note-4">
<meta property="og:url" content="http://charles2530.github.io/2024/02/21/computer-network-note-4/index.html">
<meta property="og:site_name" content="Charles&#39;s Castle">
<meta property="og:description" content="post by Charles in 2024-02-21 11:22:53">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221130322961.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221131116687.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221131541030.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221131550131.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221142443599.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221142509955.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221142800637.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221143248765.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221143942317.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221144652999.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221144712577.png">
<meta property="og:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221151300046.png">
<meta property="article:published_time" content="2024-02-21T03:22:53.000Z">
<meta property="article:modified_time" content="2024-02-21T07:33:45.825Z">
<meta property="article:author" content="Du Jinyang">
<meta property="article:tag" content="network">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://charles2530.github.io/image/computer-network-note-4/image-20240221130322961.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="https://charles2530.github.io/image/background/favicon.png" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="https://charles2530.github.io/image/background/favicon.png">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="https://charles2530.github.io/image/background/favicon.png">
    <!--- Page Info-->
    
    <title>
        
            computer-network-note-4 -
        
        Charles&#39;s Castle
    </title>

    <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/fonts/Chillax/chillax.css">

    <!--- Inject Part-->
    
        
            
                
                    <script data-swup-reload-script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?8e0e5f382d14d87cbeadc33a36e71e86"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })(); </script>
                
    
            
    

    
        <style>
    :root {
        --preloader-background-color: #fff;
        --preloader-text-color: #000;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --preloader-background-color: #202124;
            --preloader-text-color: #fff;
        }
    }

    @media (prefers-color-scheme: light) {
        :root {
            --preloader-background-color: #fff;
            --preloader-text-color: #000;
        }
    }

    @media (max-width: 600px) {
        .ml13 {
            font-size: 2.6rem !important; /* Adjust this value as needed */
        }
    }

    .preloader {
        display: flex;
        flex-direction: column;
        gap: 1rem; /* Tailwind 'gap-4' is 1rem */
        align-items: center;
        justify-content: center;
        position: fixed;
        padding: 12px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* 'h-screen' is 100% of the viewport height */
        background-color: var(--preloader-background-color);
        z-index: 1100; /* 'z-[1100]' sets the z-index */
        transition: opacity 0.2s ease-in-out;
    }

    .ml13 {
        font-size: 3.2rem;
        /* text-transform: uppercase; */
        color: var(--preloader-text-color);
        letter-spacing: -1px;
        font-weight: 500;
        font-family: 'Chillax-Variable', sans-serif;
        text-align: center;
    }

    .ml13 .word {
        display: inline-flex;
        flex-wrap: wrap;
        white-space: nowrap;
    }

    .ml13 .letter {
        display: inline-block;
        line-height: 1em;
    }
</style>

<div class="preloader">
    <script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/anime.min.js"></script>
    <h1 class="ml13">
        Charles&#39;s Castle
    </h1>
    <script>
        var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });


        anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [100,0],
                translateZ: 0,
                opacity: [0,1],
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i
            }).add({
            targets: '.ml13 .letter',
            translateY: [0,-100],
            opacity: [1,0],
            easing: "easeInExpo",
            duration: 1200,
            delay: (el, i) => 100 + 30 * i
        });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            hidePreloaderAfterTimeout(1000); // Hide after 1000 milliseconds once the window has loaded
        });

        // Backup failsafe: Hide preloader after a maximum of 5000 milliseconds, regardless of the window load event
        hidePreloaderAfterTimeout(5000);

        function hidePreloaderAfterTimeout(delay) {
            setTimeout(function () {
                var preloader = document.querySelector('.preloader');
                preloader.style.opacity = '0';
                setTimeout(function () {
                    preloader.style.display = 'none';
                }, 200);
            }, delay);
        }
    </script>
</div>
    

    
<link rel="stylesheet" href="/css/style.css">


    
        <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/assets/build/styles.css">
    

    <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/fonts/fonts.css">
    <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/fonts/Satoshi/satoshi.css">
    <!--- Font Part-->
    
    
    
    


    <script id="hexo-configurations">
    window.config = {"hostname":"charles2530.github.io","root":"/","language":"en","path":"search.xml"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"title_alignment":"left","headings_top_spacing":{"h1":"5rem","h2":"4rem","h3":"2.8rem","h4":"2.5rem","h5":"2.2rem","h6":"2rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":true,"list":["lol","Neo","God"]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":6,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"recommendation":{"enable":true,"title":"recommend_articles","limit":3,"mobile_limit":2,"placeholder":"https://charles2530.github.io/image/background/p3.jfif","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":"#1890ff","default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":true},"scroll_progress":{"bar":true,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"https://charles2530.github.io/image/background/background-light1.jpg","dark":"https://charles2530.github.io/image/background/background-dark1.jpg"},"title":"Charles's Castle","subtitle":{"text":["Happiness is best!","Never give up!","Everyday is a gift!"],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#000000","dark":"#d1d1b6"},"text_style":{"title_size":"3.2rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"center","links":{"github":"https://github.com/Charles2530/","zhihu":"https://www.zhihu.com/people/yang-guang-xiao-zi-55-55","email":"charles2530@163.com"},"qrs":{"weixin":"https://charles2530.github.io/image/background/Wechat_icon.png"}}},"plugins":{"feed":{"enable":true},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null},{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":true,"version":"9.3.0"}},"version":"2.6.1","navbar":{"auto_hide":true,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Categories":{"path":"/categories","icon":"fas fa-bookmark"},"Tags":{"path":"/tags","icon":"fas fa-tags"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Github":"https://github.com/Charles2530/","Blog":"https://charles2530.github.io","Statistics":"https://tongji.baidu.com/"}}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":"This is Charles's Castle","show_on_mobile":true,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Photos":{"icon":"fa-solid fa-image","path":"/masonry/"},"Essays":{"icon":"fa-solid fa-message-lines","path":"/essay/"},"Friends":{"icon":"fa-solid fa-user-group","path":"/friends/"}}},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/12/27 00:00:00"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":true};
  </script>
    
    <!--- Fontawesome Part-->
    <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/fontawesome/fontawesome.min.css">
    <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/fontawesome/brands.min.css">
    <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/fontawesome/solid.min.css">
    <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/fontawesome/regular.min.css">
    
    
    
    
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Charles's Castle" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
<!--        <span class="swup-progress-icon">-->
<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
<!--        </span>-->
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container px-6 md:px-12">

    <div class="navbar-content ">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="https://charles2530.github.io/image/background/logo.jpg">
                </a>
            
            <a class="logo-title" href="/">
                
                Charles&#39;s Castle
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/categories"
                                        >
                                    <i class="fas fa-bookmark fa-fw"></i>
                                    CATEGORIES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/tags"
                                        >
                                    <i class="fas fa-tags fa-fw"></i>
                                    TAGS
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    ABOUT
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/about">
                                                    ME
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://github.com/Charles2530/">
                                                    GITHUB
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a href="https://charles2530.github.io">
                                                    BLOG
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://tongji.baidu.com/">
                                                    STATISTICS
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/categories"
                        >
                            <span>
                                CATEGORIES
                            </span>
                            
                                <i class="fas fa-bookmark fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/tags"
                        >
                            <span>
                                TAGS
                            </span>
                            
                                <i class="fas fa-tags fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-About"
                        >
                            <span>
                                ABOUT
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/about">ME</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://github.com/Charles2530/">GITHUB</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="https://charles2530.github.io">BLOG</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://tongji.baidu.com/">STATISTICS</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/archives"
                        >
                            <span>Archives</span>
                            <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/masonry/"
                        >
                            <span>Photos</span>
                            <i class="fa-solid fa-image fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/essay/"
                        >
                            <span>Essays</span>
                            <i class="fa-solid fa-message-lines fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/friends/"
                        >
                            <span>Friends</span>
                            <i class="fa-solid fa-user-group fa-sm fa-fw"></i>
                        </a>
                    </li>
                
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">23</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">77</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">291</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container flex relative justify-between box-border w-full h-full">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                
                
                <img src="https://charles2530.github.io/image/background/p2.jpg" alt="computer-network-note-4" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"/>
                
                <div class="w-full flex items-center absolute bottom-0 justify-start">
                    <h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-bold backdrop-blur-lg rounded-xl border border-border-color ">computer-network-note-4</h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="https://charles2530.github.io/image/background/logo2.jpg">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">Charles</span>
                        
                            <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv7</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2024-02-21 11:22:53</span>
        <span class="mobile">2024-02-21 11:22:53</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2024-02-21 15:33:45</span>
            <span class="mobile">2024-02-21 15:33:45</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/Computer/">Computer</a>&nbsp;
                        </li>
                    
                    
                
                    
                        
                            <li>></li>
                        
                        <li>
                            <a href="/categories/Computer/Net/">Net</a>&nbsp;
                        </li>
                    
                    
                
                    
                        
                            <li>></li>
                        
                        <li>
                            <a href="/categories/Computer/Net/network-theory/">network-theory</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/network/">network</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>6.8k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>24 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <h1 id="网络层"><a class="markdownIt-Anchor" href="#网络层"></a> 网络层</h1>
<h2 id="网络层提供的两种服务"><a class="markdownIt-Anchor" href="#网络层提供的两种服务"></a> 网络层提供的两种服务</h2>
<ul>
<li>面向连接的服务，即虚电路(virtual circuit)
<ul>
<li>通信双方在开始数据传输前，先由网络建立连接，之后的数据均通过该连接进行，由网络保证数据传输的可靠性</li>
<li>虚电路只是一种逻辑连接，分组沿着这条逻辑连接按照存储转发方式传送，而并不是真正建立了一条物理连接</li>
<li>支持方：以电信公司为代表的一派</li>
</ul>
</li>
<li>无连接的服务，即数据报(datagram)
<ul>
<li>网络在发送数据时不需要先建立连接，每一个分组在网络中独立传送</li>
<li>网络层不保证服务质量，分组可能出错、丢失、重复和失序，也不保证分组传送的时限</li>
<li>支持方：以Internet为代表的一派</li>
</ul>
</li>
<li>TCP/IP采用数据报服务</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221130322961.png"
                      alt="image-20240221130322961" 
                ></p>
<ul>
<li>虚电路与数据报的比较</li>
</ul>
<table>
<thead>
<tr>
<th>对比的方面</th>
<th>虚电报服务</th>
<th>数据报服务</th>
</tr>
</thead>
<tbody>
<tr>
<td>思路</td>
<td>可靠通信应当由网络来保证</td>
<td>可靠通信应当由用户主机来保证</td>
</tr>
<tr>
<td>连接的建立</td>
<td>必须有</td>
<td>不需要</td>
</tr>
<tr>
<td>终点地址</td>
<td>仅在连接建立阶段使用，每个分组使用短的虚电路号</td>
<td>每个分组都有终点的完整地址</td>
</tr>
<tr>
<td>分组的转发</td>
<td>属于同一条虚电路的分组均按照同一路由进行转发</td>
<td>每个分组独立选择路由进行转发</td>
</tr>
<tr>
<td>当结点出故障时</td>
<td>所有通过出故障的结点的虚电路均不能工作</td>
<td>出故障的结点可能会丢失分组，一些路由可能会发生变化</td>
</tr>
<tr>
<td>分组的顺序</td>
<td>总是按发送顺序到达终点</td>
<td>到达终点时不一定按发送顺序</td>
</tr>
<tr>
<td>端到端的差错处理和流量控制</td>
<td>可以由网络负责，也可以由用户主机负责</td>
<td>由用户主机负责</td>
</tr>
</tbody>
</table>
<h2 id="网际协议-ip"><a class="markdownIt-Anchor" href="#网际协议-ip"></a> 网际协议 IP</h2>
<h3 id="ipinternet-protocol简介"><a class="markdownIt-Anchor" href="#ipinternet-protocol简介"></a> IP(Internet Protocol)简介</h3>
<ul>
<li>网际协议 IP 是 TCP/IP 体系中两个最主要的协议之一</li>
<li>与 IP 协议配套使用的还有四个协议：
<ul>
<li>地址解析协议ARP</li>
<li>逆地址解析协议RARP</li>
<li>网际控制报文协议ICMP</li>
<li>网际组管理协议IGMP</li>
</ul>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221131116687.png"
                      alt="image-20240221131116687" 
                ></p>
<h3 id="分类的ip-地址"><a class="markdownIt-Anchor" href="#分类的ip-地址"></a> 分类的IP 地址</h3>
<ul>
<li>
<p>IP 地址</p>
<ul>
<li>分配给主机或路由器的标识符，目前使用的IPv4为32位IP地址</li>
<li>IP 地址的分配由ICANN (Internet Corporation for Assigned Names and Numbers)负责</li>
</ul>
</li>
<li>
<p>IP地址的编址方法经历了三个阶段：</p>
<ul>
<li>分类的 IP 地址：最基本的编址方法，1981 年通过标准</li>
<li>子网的划分：最基本编址方法的改进， 1985 年成为标准[RFC 950]</li>
<li>构成超网：比较新的无分类编址方法，1993 年提出</li>
</ul>
</li>
<li>
<p>分类的IP地址</p>
<ul>
<li>IP地址被分为A, B, C, D, E五类，每一类地址都包含网络号(net-id)和主机号(host-id)两个字段 IP地址::={&lt;网络号&gt; ，&lt;主机号&gt;}</li>
<li>不同类的IP地址区别主要是网络号、主机号的长度不同</li>
</ul>
</li>
<li>
<p>IP 地址中的网络号字段和主机号字段</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221131541030.png"
                      alt="image-20240221131541030" 
                ></p>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221131550131.png"
                      alt="image-20240221131550131" 
                ></p>
<h3 id="ip-地址与硬件地址"><a class="markdownIt-Anchor" href="#ip-地址与硬件地址"></a> IP 地址与硬件地址</h3>
<ul>
<li>IP地址
<ul>
<li>网络层及以上各层使用的地址，是一种逻辑地址</li>
<li>存放在IP包头部</li>
</ul>
</li>
<li>物理地址
<ul>
<li>数据链路层及物理层使用的地址</li>
<li>存放在数据链路层的帧中</li>
</ul>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221142443599.png"
                      alt="image-20240221142443599" 
                ></p>
<h3 id="arp与rarp协议"><a class="markdownIt-Anchor" href="#arp与rarp协议"></a> ARP与RARP协议</h3>
<ul>
<li>IP 地址与物理地址的相互转换问题</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221142509955.png"
                      alt="image-20240221142509955" 
                ></p>
<ul>
<li>
<p>ARP协议(Address Resolution Protocol)</p>
<ul>
<li>
<p>主机设有一个ARP高速缓存(ARP cache)，存有本地局域网上各主机和路由器的 IP 地址与硬件地址的映射表</p>
</li>
<li>
<p>当主机 A 欲向本局域网上的主机B发送IP包时</p>
<ul>
<li>先在其ARP高速缓存中查看有无主机B 的IP地址</li>
<li>如有，就可查出其对应的硬件地址，再将此硬件地址写入MAC帧，通过局域网发送</li>
<li>如无，则在网络中广播一个ARP请求</li>
<li>当主机B收到ARP请求后，向主机A返回一个ARP应答，告知自己的物理地址</li>
</ul>
<blockquote>
<p>ARP解决同一局域网中的主机或路由器的 IP 地址和硬件地址的映射问题，如果目的主机不在本局域网内，IP包需经由路由器转发，此时在局域网内要完成的是路由器IP与物理地址的映射</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="ip数据报格式"><a class="markdownIt-Anchor" href="#ip数据报格式"></a> IP数据报格式</h3>
<ul>
<li>
<p>一个 IP包由头部和数据两部分组成<br />
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221142800637.png"
                      alt="image-20240221142800637" 
                ></p>
</li>
<li>
<p>头部：20字节的固定字段 + 0到多个可选字段</p>
</li>
<li>
<p>Version字段：4bit，IP 协议的版本，目前的 IP 协议版本号为 4 (即 IPv4)</p>
</li>
<li>
<p>IHL：4bit，IP包头长度，最小5，最大15，单位为word(32bit)。因此 IP包头最长60 字节</p>
</li>
<li>
<p>Type of service：1字节，服务类型，目前很多路由器忽略该字段</p>
</li>
<li>
<p>Total Length：2字节，IP包总长度(含头部和数据)，单位为字节。因此IP包的最大长度为 65535 字节</p>
</li>
<li>
<p>Identification：2字节，标识，是一个计数器，用来产生IP包的标识</p>
<ul>
<li>超过数据链路层MTU(Maximum Transmission Unit)的IP包要分片传输</li>
<li>分片的多个包具有相同的标示，便于接收端重组</li>
</ul>
</li>
<li>
<p>DF：1bit，Don’t Fragment，当 DF=0 时允许分片</p>
</li>
<li>
<p>MF：1bit，More Fragment，MF=1表示后面“还有分片”；MF=0表示最后一个分片</p>
</li>
<li>
<p>Fragment offset：13bit，片偏移，较长的包在分片后，某片在原分组中的相对位置，以8字节为单位</p>
</li>
<li>
<p>Time to live(TTL)： 1字节，生存时间，IP包在网络中可通过的路由器个数的最大值</p>
<ul>
<li>实际实现中，IP包每经过一个路由器TTL减 1，为0则丢弃，并向源主机发送一个告警包</li>
<li>最大值为255，由源主机设定初始值，Windows操作系统一般为128，UNIX操作系统一般为255，Linux一般为64</li>
</ul>
</li>
<li>
<p>Protocol：8bit，协议字段，该包中数据部分的协议类型，即上层协议类型 -&gt; 该字段决定了该包将交由哪里</p>
</li>
<li>
<p>Header checksum：2字节，包头校验和(注意：只针对包头)</p>
</li>
<li>
<p>Source address：4字节，源IP地址</p>
</li>
<li>
<p>Destination address：4字节，目的IP地址</p>
</li>
<li>
<p>选项字段：以4字节为单位，最长40字节。实际网络中很少使用</p>
</li>
<li>
<p>校验和算法：对IP包头，每16位求反，循环相加(进位加在末尾)，和再求反</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221143248765.png"
                      alt="image-20240221143248765" 
                ></p>
</li>
</ul>
<h2 id="划分子网和构造超网"><a class="markdownIt-Anchor" href="#划分子网和构造超网"></a> 划分子网和构造超网</h2>
<h3 id="划分子网"><a class="markdownIt-Anchor" href="#划分子网"></a> 划分子网</h3>
<ul>
<li>为什么要划分子网？
<ul>
<li>分类IP地址无法适应Internet快速发展需要
<ul>
<li>A类地址的主机数超过1000万，B类地址也超过6 万</li>
<li>A 、 B类地址的网络由多个小型网络构成，如何对这些小网络寻址？</li>
<li>某网络可能使用多块C类地址，如何对该网络寻址？</li>
</ul>
</li>
</ul>
</li>
<li>解决办法：划分子网
<ul>
<li>一个网络可划分为若干个子网(subnet)
<ul>
<li>常按物理网络或单位组织机构划分子网，直观且易于管理</li>
</ul>
</li>
<li>在何处体现子网信息？
<ul>
<li>IP地址中并不含有子网信息</li>
<li>解决办法：使用子网掩码(subnet mask)</li>
</ul>
</li>
</ul>
</li>
<li>子网掩码是一个网络或一个子网的重要属性，在路由寻址中发挥着重要作用</li>
<li>对目的IP地址和子网掩码执行“按位与”操作，即得到子网地址</li>
</ul>
<h3 id="使用子网掩码的分组转发过程"><a class="markdownIt-Anchor" href="#使用子网掩码的分组转发过程"></a> 使用子网掩码的分组转发过程</h3>
<ul>
<li>
<p>路由器中路由表项包含三项基本信息：</p>
<ul>
<li>目的网络地址、子网掩码、下一跳地址</li>
</ul>
</li>
<li>
<p>转发流程：</p>
<ul>
<li>从收到的分组的首部提取目的IP地址D</li>
<li>先用与该路由器直接相连各网络的子网掩码和D逐位相“与”，看是否和相应的网络地址匹配，若匹配，则将分组直接交付；否则就是间接交付，执行③</li>
<li>若路由表中有目的地址为D的特定主机路由，则将分组传送给指明的下一跳路由器；否则执行④</li>
<li>对路由表中的每一行的子网掩码和 D 逐位相“与”，若其结果与该行的目的网络地址匹配，则将分组传送给该行指明的下一跳路由器；否则执行⑤</li>
<li>若路由表中有一个默认路由，则将分组传送给路由表中所指明的默认路由器；否则执行⑥</li>
<li>报告转发分组出错</li>
</ul>
<blockquote>
<p>注意：路由表中仅包含局部路由信息，使用默认路由以确保任意分组的转发</p>
<p>核心操作：将目的IP地址与路由表中子网掩码“ 与 ”，并判断是否与目的网络匹配</p>
</blockquote>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221143942317.png"
                      alt="image-20240221143942317" 
                ></p>
</li>
</ul>
<h3 id="无分类编址-cidr"><a class="markdownIt-Anchor" href="#无分类编址-cidr"></a> 无分类编址 CIDR</h3>
<ul>
<li>
<p>CIDR(Classless Inter-Domain Routing)无分类域间路由</p>
</li>
<li>
<p>CIDR的主要特点</p>
<ul>
<li>消除传统A类、B类和C类地址以及划分子网的概念</li>
<li>使用各种长度的“网络前缀”(network-prefix)来代替分类地址中的网络号和子网号</li>
<li>IP地址从三级编址(使用子网掩码)又回到了两级编址 IP地址::={&lt;网络前缀&gt;，&lt;主机号&gt;}</li>
<li>CIDR还使用“斜线记法”(slash notation)，又称为CIDR记法，IP地址后加一个斜线“/”，后跟网络前缀所占的位数</li>
</ul>
</li>
<li>
<p>网络前缀都相同的连续的 IP 地址组成“CIDR地址块”</p>
</li>
<li>
<p>路由聚合(route aggregation) &lt;- CIDR带来的好处</p>
<ul>
<li>一个 CIDR 地址块可以表示很多地址，这种地址的聚合称为路由聚合</li>
<li>路由聚合的好处：路由表中的一个项目可以表示很多个(例如上千个)原来传统分类地址的路由，可以减少路由表中表项个数，并减少路由器间交换的路由信息量</li>
<li>路由聚合也称为构成超网(supernetting)
<ul>
<li>称为超网是由于CIDR地址块大多包含多个C类地址</li>
</ul>
</li>
</ul>
</li>
<li>
<p>关于地址掩码</p>
<ul>
<li>CIDR不使用子网，但仍使用“地址掩码”这一名词</li>
</ul>
</li>
<li>
<p>CIDR记法的其他形式</p>
<ul>
<li>10.0.0.0/10 可简写为 10/10，即省略点分十进制中低位连续的0</li>
<li>网络前缀后跟星号 * 的表示方法，如 00001010 00*，星号 * 之前为网络前缀，星号 *为任意主机号</li>
</ul>
</li>
<li>
<p>最长前缀匹配</p>
<ul>
<li>使用CIDR时，路由表中的表项中的“目的网络地址”由固定长度变成了变长的“网络前缀”</li>
<li>在查找路由表时可能会得到不止一个匹配结果</li>
<li>最长前缀匹配(longest-prefix matching)原则
<ul>
<li>从匹配结果中选择具有最长网络前缀的路由</li>
<li>网络前缀越长，其地址块就越小，因而路由就越具体(more specific)</li>
<li>最长前缀匹配又称为最长匹配或最佳匹配</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="网际控制报文协议-icmp"><a class="markdownIt-Anchor" href="#网际控制报文协议-icmp"></a> 网际控制报文协议 ICMP</h2>
<h3 id="icmp简介"><a class="markdownIt-Anchor" href="#icmp简介"></a> ICMP简介</h3>
<ul>
<li>RFC 792: Internet Control Message Protocol</li>
<li>主要用于报告出错和测试等控制信息、</li>
<li>ICMP位于IP层，ICMP报文是封装在IP包中传输的</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221144652999.png"
                      alt="image-20240221144652999" 
                ></p>
<ul>
<li>ICMP 报文有9种，可分为差错报告报文和询问报文两类</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221144712577.png"
                      alt="image-20240221144712577" 
                ></p>
<ul>
<li>
<p>差错报告报文</p>
<ul>
<li>Destination unreachable：终点不可达，路由器或主机无法传输报文时向源主机发送此报文</li>
<li>Source quench：源点抑制，路由器或主机由于拥塞丢弃报文时，向源主机发送此报文，使其放慢发送速度</li>
<li>Time exceeded：超时，当报文的TTL字段为0时，路由器丢弃报文，并向源主机发送此报文</li>
<li>Parameter problem：参数问题，路由器或主机收到的报文中头部有非法字段时，丢弃数据包，并向源主机发送此报文</li>
<li>Redirect：重定向，路由器向主机发送此报文告知路由改变，主机下次发送数据报给另外的路由器</li>
</ul>
</li>
<li>
<p>询问报文</p>
<ul>
<li>Echo request / reply：回声探测，用于测试网络连通性</li>
<li>Timestamp request / reply：请求时间，可用于时间同步</li>
</ul>
</li>
<li>
<p>Ping</p>
<ul>
<li>用来测试两个主机之间的连通性</li>
<li>采用ICMP echo request / reply报文
<ul>
<li>向目的主机发送ICMP echo request报文，对方收到后会回应ICMP echo reply，根据能否收到应答后判断两台主机之间是否连通</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Traceroute / Tracert</p>
<ul>
<li>用来测试到另一台主机所经过的路由信息</li>
<li>采用ICMP超时报告报文
<ul>
<li>逐个发出UDP报文，其IP包头中的TTL字段分别设为1, 2, 3, …，直到到达目的主机</li>
<li>报文路由路径上的路由器会返回ICMP超时报文，从该报文即可得知路由器IP地址</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="路由算法及协议"><a class="markdownIt-Anchor" href="#路由算法及协议"></a> 路由算法及协议</h2>
<h3 id="路由算法简介"><a class="markdownIt-Anchor" href="#路由算法简介"></a> 路由算法简介</h3>
<ul>
<li>
<p>在网络中，路由器依据路由信息(路由表)转发分组，路 由信息是路由协议生成的，路由算法是路由协议的基础 和核心，注意：</p>
<ul>
<li>路由协议是用来生成路由信息(路由表)的，不是转发分组的</li>
</ul>
</li>
<li>
<p>理想的路由算法应具备的特性</p>
<ul>
<li>必须是正确的和完整的：按照得出的路由能够进行正确寻址</li>
<li>在计算上应简单：不增加过多开销</li>
<li>有自适应性：能根据通信量和网络拓扑的变化调整路由</li>
<li>应具有稳定性：通信量和拓扑稳定时，能快速收敛</li>
<li>应是公平的：对所有用户公平</li>
<li>应是最佳的：能找出最好的路由(时延最小、吞吐量最大)</li>
</ul>
</li>
<li>
<p>不同情况下的路由需求可能各有侧重，且网络环境不断变化，因此不存在一种绝对的最佳路由算法</p>
</li>
<li>
<p>静态路由与动态路由</p>
<ul>
<li>静态路由选择策略
<ul>
<li>非自适应路由选择</li>
<li>简单和开销较小，但不能及时适应网络状态的变化</li>
<li>适用于小规模且变化较少的网络，由人工设置路由</li>
</ul>
</li>
<li>动态路由选择策略
<ul>
<li>自适应路由选择</li>
<li>能较好地适应网络状态的变化，但实现起来较为复杂，开销也比较大</li>
<li>适用于较大规模、频繁变化的网络，通过专门的算法和协议进行路由的计算</li>
</ul>
</li>
</ul>
</li>
<li>
<p>两类典型的动态路由算法</p>
<ul>
<li>距离向量(distance vector)路由算法</li>
<li>链路状态(link state)路由算法</li>
</ul>
</li>
<li>
<p>Internet采用分层次的路由，原因：</p>
<ul>
<li>Internet规模庞大，任何一台路由器都不可能获取和存储整个Internet的路由信息</li>
<li>接入Internet的众多网络(管理方)不希望外界了解自己网络的内部信息</li>
</ul>
</li>
<li>
<p>自治系统(AS—Autonomous System)的概念</p>
<ul>
<li>定义：在单一的技术管理下的一组路由器，而这些路由器使用一种 AS 内部的路由选择协议和共同的度量以确定分组在该 AS 内的路由，同时还使用一种 AS 之间的路由选择协议用以确定分组在 AS之间的路由</li>
<li>一个 AS可使用多种内部路由选择协议和度量，但对其他 AS 表现出的是单一的和一致的路由选择策略</li>
</ul>
</li>
<li>
<p>在自治系统背景下，Internet路由协议可以分为两类：</p>
<ul>
<li>内部网关协议 IGP(Interior Gateway Protocol)
<ul>
<li>自治系统内部使用的路由选择协议</li>
<li>这类路由协议使用得最多，如 RIP 和 OSPF 协议</li>
</ul>
</li>
<li>外部网关协议EGP(External Gateway Protocol)
<ul>
<li>若源站和目的站处在不同的自治系统中，当数据报传到一个自治系统的边界时，就需要使用一种协议将路由选择信息传递到另一个自治系统中，这样的协议就是外部网关协议 EGP。</li>
<li>应用最为广泛的外部网关协议：BGP-4</li>
</ul>
</li>
</ul>
</li>
<li>
<p>自治系统之间的路由选择又称为域间路由选择(interdomain routing)</p>
</li>
<li>
<p>自治系统内部的路由选择又称为域内路由选择(intradomain routing)</p>
</li>
</ul>
<h2 id="距离向量路由与rip协议"><a class="markdownIt-Anchor" href="#距离向量路由与rip协议"></a> 距离向量路由与RIP协议</h2>
<ul>
<li>
<p>距离向量路由(distance vector routing)简介</p>
<ul>
<li>属于动态路由算法</li>
<li>也称为Bellman-Ford路由算法和Ford-Fulkerson算法</li>
<li>最初用于ARPANET，被RIP协议采用</li>
</ul>
</li>
<li>
<p>距离向量路由的基本思想</p>
<ul>
<li>每个路由器维护一张表，表中给出了到每个目的地的已知最佳距离和线路，并通过与相邻路由器交换距离信息来更新表</li>
<li>路由器周期性地向所有相邻路由器发送它的距离表，同时它也接收每个邻居结点发来的距离表；</li>
<li>相邻路由器X发来的表中，X到路由器i的距离为Xi，本路由器到 X的距离为m，则路由器经过X到 i的距离为Xi + m。根据不同邻居发来的信息，计算Xi + m，并取最小值，更新本路由器的路由表。</li>
</ul>
</li>
<li>
<p>距离向量路由的无穷计算问题</p>
<ul>
<li>算法的缺陷：对好消息反应迅速，对坏消息反应迟钝</li>
</ul>
</li>
<li>
<p>RIP(Routing Information Protocol)协议</p>
<ul>
<li>
<p>属于距离向量路由协议</p>
</li>
<li>
<p>RFC1058: Routing Information Protocol</p>
</li>
<li>
<p>特点：简单，适用于小规模网络中的路由</p>
</li>
<li>
<p>RIP中的距离定义：路由器跳数(hop count)</p>
<ul>
<li>优点：便于计算</li>
<li>最长距离15，即允许的最长路径中最多包含15个路由器，距离为16表示不可达，直接连接的距离为0</li>
</ul>
</li>
<li>
<p>RIP的三个要点</p>
<ul>
<li>仅和相邻路由器交换信息</li>
<li>交换的信息是当前本路由器所知道的全部信息，即自己的路由表</li>
<li>按固定的时间间隔交换路由信息(典型值：每隔 30 秒 )</li>
</ul>
</li>
<li>
<p>RIP优缺点</p>
<ul>
<li>优点：实现简单，开销较小</li>
<li>缺点：
<ul>
<li>当网络出现故障时，要经过比较长的时间才能将此信息传送到所有的路由器(距离向量路由的固有缺点)</li>
<li>支持的网络规模有限，最大距离为 15(16 表示不可达)</li>
<li>路由器之间交换的路由信息是路由器中的完整路由表，随着网络规模的扩大，开销随之增加</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="链路状态路由与ospf协议"><a class="markdownIt-Anchor" href="#链路状态路由与ospf协议"></a> 链路状态路由与OSPF协议</h3>
<ul>
<li>
<p>链路状态路由(link-state routing)的基本思想</p>
<ul>
<li>每个路由器完成5步工作:
<ul>
<li>发现它的邻居结点，并学习其网络地址</li>
<li>测量到各邻居结点的延迟或开销</li>
<li>构造一个分组，其中包含所有它刚刚知道的信息</li>
<li>将这个分组发送给其他所有路由器</li>
<li>计算出到每一个其他路由器的最短路径</li>
</ul>
</li>
<li>各路由器之间动态交换链路状态信息，每个路由器都建立一个链路状态数据库
<ul>
<li>“链路状态”即本路由器都和哪些路由器相邻，以及该链路的“度量”(metric)</li>
</ul>
</li>
<li>链路状态数据库实际上是全网的拓扑结构图，它在全网范围内是一致的(即链路状态数据库的同步)</li>
<li>各路由器根据网络拓扑使用Dijkstra算法计算从本路由器到其他结点的最佳路径，构成路由表</li>
</ul>
</li>
<li>
<p>OSPF(Open Shortest Path First)协议简介</p>
<ul>
<li>属于链路状态路由协议</li>
<li>RFC2328: OSPF Version 2</li>
<li>优点：
<ul>
<li>收敛速度快：当链路状态发生变化时，结点会以洪泛(flooding)方式告知所有网络中其他所有结点（洪泛(flooding): 结点收到分组时，向除输入链路外的所有其他链路发送出去）</li>
<li>适用于较大规模的网络：仅在链路状态发生变化时发送洪泛信息，不会产生很大通信量</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>为了管理大规模的网络，OSPF 将一个自治系统再划分为若干个区域(area)
<ul>
<li>每一个区域都有一个 32 位的区域标识符(用点分十进制表示)</li>
</ul>
</li>
<li>划分区域的好处：利用洪泛法交换链路状态信息的范围局限于一个区域而不是整个的自治系统，减少了整个网络上的通信量</li>
<li>一个区域内的路由器只知道本区域的完整网络拓扑，而不知道其他区域的网络拓扑</li>
<li>层次结构的区域划分，上层的区域称为主干区域(backbone area)，主干区域的作用是用来连通其他在下层的区域
<ul>
<li>主干区域的标识符规定为0.0.0.0。</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="外部网关路由协议bgp"><a class="markdownIt-Anchor" href="#外部网关路由协议bgp"></a> 外部网关路由协议BGP</h3>
<ul>
<li>BGP(Border Gateway Protocol)简介
<ul>
<li>BGP是不同自治系统的路由器之间交换路由信息的协议</li>
<li>BGP-4， RFC4271 ~ 4278，2006年</li>
</ul>
</li>
<li>BGP使用环境的特殊性
<ul>
<li>Internet的规模很大，AS之间的路由选择非常困难
<ul>
<li>Internet主干网路由器中的网络前缀达到数万条</li>
<li>对于AS之间的路由选择，要寻找最佳路由是不现实的</li>
<li>不同AS对路径度量标准各不相同</li>
</ul>
</li>
<li>AS之间的路由选择需考虑多种策略</li>
</ul>
</li>
<li>BGP难以找到最佳路由，只能寻找一条能够到达目的网络且比较好的路由(不能兜圈子)</li>
<li>BGP发言人(speaker)
<ul>
<li>每个AS要选择至少一个路由器作为“BGP speaker”</li>
<li>两个BGP发言人通过一个共享网络连接在一起</li>
<li>BGP发言人一般是AS的边界路由器，但也可以不是</li>
<li>BGP 发言人与其他自治系统中的BGP发言人交换路由信息</li>
<li>路由信息的交换通过TCP协议进行，两个发言人在TCP连接上交换BGP报文以建立BGP会话(session)，利用 BGP 会话交换路由信息</li>
<li>BGP发言人除了运行BGP协议外，还要运行AS的内部网关路由协议</li>
</ul>
</li>
<li>信息交换与路由生成
<ul>
<li>BGP所交换的网络可达性的信息就是要到达某个网络所要经过的一系列 AS,称为路径向量(path vector)</li>
<li>BGP 发言人互相交换了网络可达性的信息后，就根据所采用的策略从其中找出到达各 AS 的较好路由</li>
</ul>
</li>
<li>BGP-4使用四种报文
<ul>
<li>OPEN报文：用来与相邻的另一个BGP发言人建立关系</li>
<li>UPDATE报文：用来发送某一路由的信息，以及列出要撤消的多条路由</li>
<li>KEEPALIVE报文：用来确认打开报文和周期性地证实邻站关系</li>
<li>NOTIFICATION报文：用来发送检测到的差错
<ul>
<li>BGP发言人通过OPEN报文与另一发言人建立会话，对方如同意则回应KEEPALIVE报文</li>
<li>双方周期性交换KEEPALIVE报文，以确认会话未中断</li>
<li>路由信息变化时，发送UPDATE报文</li>
</ul>
</li>
</ul>
</li>
<li>BGP协议特点
<ul>
<li>交换路由信息的结点数量级与自治系统个数相当，大大少于这些自治系统中的网络数</li>
<li>每个自治系统中BGP发言人(或边界路由器)的数目很少，使得自治系统间的路由选择不致过分复杂</li>
<li>BGP支持CIDR，因此BGP路由表包括目的网络前缀、下一跳路由器，以及到达该目的网络要经过的各个自治系统序列</li>
<li>在BGP刚运行时，邻站交换完整的 BGP 路由表，以后只需要在发生变化时更新变动部分，有利于节省网络带宽和减少处理开销</li>
</ul>
</li>
</ul>
<h3 id="路由器router"><a class="markdownIt-Anchor" href="#路由器router"></a> 路由器(Router)</h3>
<ul>
<li>
<p>具有多个输入/输出端口的专用计算机，其任务是转发分组</p>
</li>
<li>
<p>路由器组成</p>
<ul>
<li>路由选择部分：按照路由选择协议工作，构建路由表</li>
<li>分组转发部分：交换结构(switching fabric) + 一组输入/端口(交换结构根据转发表进行分组的快速转发，转发表从路由表得到)</li>
</ul>
</li>
<li>
<p>路由器设计的关键之一是分组的高速转发</p>
<ul>
<li>决定报文转发速率的因素有：
<ul>
<li>输入/输出端口的处理性能</li>
<li>交换机构的性能</li>
</ul>
</li>
<li>线速(line speed 或 wire speed): 分组的处理速率能够达到线路上分组的传输速率</li>
<li>衡量路由器性能的指标：pps(packet per second)</li>
</ul>
</li>
<li>
<p>输入和输出端口的处理</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://charles2530.github.io/image/computer-network-note-4/image-20240221151300046.png"
                      alt="image-20240221151300046" 
                ></p>
</li>
</ul>
<h3 id="网络的控制平面与数据平面"><a class="markdownIt-Anchor" href="#网络的控制平面与数据平面"></a> 网络的控制平面与数据平面</h3>
<ul>
<li>控制平面(control plane)
<ul>
<li>生成路由表和转发表</li>
</ul>
</li>
<li>数据平面(data plane)
<ul>
<li>进行分组的快速转发</li>
</ul>
</li>
<li>传统网络中，路由器集成了控制平面和数据平面，缺少灵活性</li>
<li>软件定义网络(SDN—Software Defined Networking)
<ul>
<li>控制平面和数据平面分离</li>
<li>控制平面 -&gt; 控制器(controller)</li>
<li>数据平面 -&gt; 路由器(SDN称为交换机)</li>
</ul>
</li>
<li>优点：可以灵活、快速地控制路由/转发策略</li>
<li>SDN特别适用于路由策略变化频繁的网络
<ul>
<li>如：云数据中心网络</li>
</ul>
</li>
</ul>
<h2 id="ip-组播"><a class="markdownIt-Anchor" href="#ip-组播"></a> IP 组播</h2>
<ul>
<li>组播(multicast)又称为多播，用于实现一点对多点的数据传输</li>
<li>对于一些网络应用，采用组播可大大减少网络流量</li>
<li>组播的典型应用示例：网络视频服务</li>
<li>使用D 类IP地址作为组播地址
<ul>
<li>224.0.0.0—239.255.255.255</li>
<li>组播数据报：IP包头中的目的地址为D类地址，协议类型为2(IGMP协议)</li>
</ul>
</li>
<li>组播地址即为特定组播组的标识符，主机通过加入组播组来接收组播数据</li>
<li>组播可分为两种
<ul>
<li>在局域网中的硬件组播
<ul>
<li>将MAC地址中的特定地址段作为组播地址，并与IP组播地址形成对应关系</li>
</ul>
</li>
<li>在Internet中的组播
<ul>
<li>路由器需支持组播，即组播路由器</li>
<li>主机通过IGMP协议与组播路由器通信，加入/退出某个组播组</li>
<li>组播路由器之间通过组播路由协议实现组播数据报的传输</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="网络地址转换-nat和虚拟专用网-vpn"><a class="markdownIt-Anchor" href="#网络地址转换-nat和虚拟专用网-vpn"></a> 网络地址转换 NAT和虚拟专用网 VPN</h2>
<h3 id="网络地址转换-nat"><a class="markdownIt-Anchor" href="#网络地址转换-nat"></a> 网络地址转换 NAT</h3>
<ul>
<li>专用地址(保留地址)
<ul>
<li>RFC1918中定义了一系列专用地址(private address)
<ul>
<li>10.0.0.0 ～ 10.255.255.255 (CIDR记法: 10/8)</li>
<li>172.16.0.0 ～ 172.31.255.255 (CIDR记法: 172.16/12)</li>
<li>192.168.0.0 ～ 192.168.255.255 (CIDR记法: 192.168/16)</li>
</ul>
</li>
<li>这些地址只能用于机构的内部</li>
<li>Internet中的路由器不转发目的地址为专用地址的包</li>
</ul>
</li>
<li>企业/机构内部网络使用专用地址的优点
<ul>
<li>减少IP地址空间的占用</li>
<li>可提高安全性</li>
</ul>
</li>
<li>当内部网络使用专用地址时，与Internet的通信需要通过NAT(Network Address Translation)</li>
</ul>
<h3 id="虚拟专用网vpn"><a class="markdownIt-Anchor" href="#虚拟专用网vpn"></a> 虚拟专用网VPN</h3>
<ul>
<li>VPN—Virtual Private Network 虚拟专用网</li>
<li>多个企业/机构的内部网络之间互连的实现方法
<ul>
<li>租用专用线路，形成专用网，成本高昂</li>
<li>基于公用网络( 如Internet)，形成VPN</li>
</ul>
</li>
<li>VPN涉及的技术包括：隧道(tunnel)、加密、身份认证等</li>
<li>基于Internet建立VPN的两种情形
<ul>
<li>内部网络通过Internet互连</li>
<li>远程用户访问内部网(remote access VPN)</li>
</ul>
</li>
<li>典型的VPN实现技术
<ul>
<li>基于IPSec：ESP隧道模式
<ul>
<li>工作在网络层，适用于多种应用</li>
</ul>
</li>
<li>基于SSL：Web浏览器内置SSL支持
<ul>
<li>客户端无须安装或配置软件</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>

        
            <div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> computer-network-note-4</li>
        <li><strong>Author:</strong> Charles</li>
        <li><strong>Created at
                :</strong> 2024-02-21 11:22:53</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2024-02-21 15:33:45
            </li>
        
        <li>
            <strong>Link:</strong> https://charles2530.github.io/2024/02/21/computer-network-note-4/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/network/">#network</a>&nbsp;
                    </li>
                
            </ul>
        

        
  <div class="recommended-article px-2 sm:px-6 md:px-8">
   <div class="recommended-desktop">
    <div class="recommended-article-header text-xl md:text-3xl font-bold mt-10">
     <i aria-hidden="true"></i><span>recommend_articles</span>
    </div>
    <div class="recommended-article-group"><a class="recommended-article-item" href="/2022/12/30/os-theory-1/" title="OS_theory_1" rel="bookmark">
  <img src="https://charles2530.github.io/image/background/p5.jfif" alt="OS_theory_1" class="!max-w-none">
  <span class="title">OS_theory_1</span>
</a><a class="recommended-article-item" href="/2023/08/12/red-black-tree/" title="Red-black-tree" rel="bookmark">
  <img src="https://charles2530.github.io/image/background/p3.png" alt="Red-black-tree" class="!max-w-none">
  <span class="title">Red-black-tree</span>
</a><a class="recommended-article-item" href="/2023/09/02/principal-component-analysis/" title="principal-component-analysis" rel="bookmark">
  <img src="https://charles2530.github.io/image/background/p1.jfif" alt="principal-component-analysis" class="!max-w-none">
  <span class="title">principal-component-analysis</span>
</a></div>
   </div>
   <div class="recommended-mobile">
   <div class="recommended-article-header text-xl md:text-3xl font-bold mt-10">
     <i aria-hidden="true"></i><span>recommend_articles</span>
   </div>
   <div class="recommended-article-group"><a class="recommended-article-item" href="/2022/12/30/os-theory-1/" title="OS_theory_1" rel="bookmark">
  <img src="https://charles2530.github.io/image/background/p5.jfif" alt="OS_theory_1" class="!max-w-none">
  <span class="title">OS_theory_1</span>
</a><a class="recommended-article-item" href="/2023/08/12/red-black-tree/" title="Red-black-tree" rel="bookmark">
  <img src="https://charles2530.github.io/image/background/p3.png" alt="Red-black-tree" class="!max-w-none">
  <span class="title">Red-black-tree</span>
</a></div>
   </div>
  </div>

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                    <div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="prev"
                        rel="prev"
                        href="/2024/02/21/computer-network-note-5/"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">computer-network-note-5</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2024/02/21/computer-network-note-3/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">computer-network-note-3</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
            <div class="comment-container px-2 sm:px-6 md:px-8 pb-8">
                <div class="comments-container mt-10 w-full ">
    <div id="comment-anchor" class="w-full h-2.5"></div>
    <div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">
        Comments
    </div>
    

        <!-- 
            
    <div id="gitalk-container"></div>
    <script data-swup-reload-script
            src="//cdn.staticfile.org/gitalk/1.8.0/gitalk.min.js"></script>
    <script data-swup-reload-script>

        function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
                __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
                Gitalk && new Gitalk({
                    clientID: '8083299a8ee2aaf23879',
                    clientSecret: 'a8161e81d4872181e884fdb69f7be24916b6a9d0',
                    repo: 'charles2530_issues',
                    owner: 'Charles2530',
                    admin: ['Charles2530'],
                    id: __gitalk__pathname,
                    language: 'en',
                    proxy: 'https://github.com/login/oauth/access_token'
                }).render('gitalk-container');

            } catch (e) {
                window.Gitalk = null;
            }
        }

        if ('true') {
            const loadGitalkTimeout = setTimeout(() => {
                loadGitalk();
                clearTimeout(loadGitalkTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
        }
    </script>



         -->
        <script src="https://utteranc.es/client.js" repo="Charles2530/Charles2530.github.io" issue-term="pathname"
            label="Comment" theme="preferred-color-scheme" crossorigin="anonymous" async>
            </script>
    
</div>

            </div>
        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">computer-network-note-4</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-text"> 网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%9C%8D%E5%8A%A1"><span class="nav-text"> 网络层提供的两种服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AE-ip"><span class="nav-text"> 网际协议 IP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ipinternet-protocol%E7%AE%80%E4%BB%8B"><span class="nav-text"> IP(Internet Protocol)简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%B1%BB%E7%9A%84ip-%E5%9C%B0%E5%9D%80"><span class="nav-text"> 分类的IP 地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ip-%E5%9C%B0%E5%9D%80%E4%B8%8E%E7%A1%AC%E4%BB%B6%E5%9C%B0%E5%9D%80"><span class="nav-text"> IP 地址与硬件地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#arp%E4%B8%8Erarp%E5%8D%8F%E8%AE%AE"><span class="nav-text"> ARP与RARP协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ip%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="nav-text"> IP数据报格式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91%E5%92%8C%E6%9E%84%E9%80%A0%E8%B6%85%E7%BD%91"><span class="nav-text"> 划分子网和构造超网</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91"><span class="nav-text"> 划分子网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E7%9A%84%E5%88%86%E7%BB%84%E8%BD%AC%E5%8F%91%E8%BF%87%E7%A8%8B"><span class="nav-text"> 使用子网掩码的分组转发过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80-cidr"><span class="nav-text"> 无分类编址 CIDR</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E9%99%85%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE-icmp"><span class="nav-text"> 网际控制报文协议 ICMP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#icmp%E7%AE%80%E4%BB%8B"><span class="nav-text"> ICMP简介</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E5%8F%8A%E5%8D%8F%E8%AE%AE"><span class="nav-text"> 路由算法及协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E7%AE%80%E4%BB%8B"><span class="nav-text"> 路由算法简介</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E8%B7%AF%E7%94%B1%E4%B8%8Erip%E5%8D%8F%E8%AE%AE"><span class="nav-text"> 距离向量路由与RIP协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8Eospf%E5%8D%8F%E8%AE%AE"><span class="nav-text"> 链路状态路由与OSPF协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E7%BD%91%E5%85%B3%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AEbgp"><span class="nav-text"> 外部网关路由协议BGP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8router"><span class="nav-text"> 路由器(Router)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E7%9A%84%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2"><span class="nav-text"> 网络的控制平面与数据平面</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ip-%E7%BB%84%E6%92%AD"><span class="nav-text"> IP 组播</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2-nat%E5%92%8C%E8%99%9A%E6%8B%9F%E4%B8%93%E7%94%A8%E7%BD%91-vpn"><span class="nav-text"> 网络地址转换 NAT和虚拟专用网 VPN</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2-nat"><span class="nav-text"> 网络地址转换 NAT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E4%B8%93%E7%94%A8%E7%BD%91vpn"><span class="nav-text"> 虚拟专用网VPN</span></a></li></ol></li></ol></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2022</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Charles</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        291 posts in total
                    </span>
                    
                        <span>
                            1186.3k words in total
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">Visitor Count</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">Total Page Views</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">Powered by Charles</span>
            <span class="text-sm lg:block">Theme&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.6.1</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
            
                
        
                
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="right-bottom-tools rss flex justify-center items-center">
                <a class="flex justify-center items-center"
                   href="/atom.xml"
                   target="_blank"
                >
                <i class="fa-regular fa-rss"></i>
                </a>
            </li>
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>


    <script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/Swup.min.js"></script><script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/SwupSlideTheme.min.js"></script><script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/SwupScriptsPlugin.min.js"></script><script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/SwupProgressPlugin.min.js"></script><script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/SwupScrollPlugin.min.js"></script><script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/SwupPreloadPlugin.min.js"></script>
<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>






<script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/tools/imageViewer.js"></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/utils.js"></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/main.js"></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/layouts/navbarShrink.js"></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/tools/scrollTopBottom.js"></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/tools/lightDarkSwitch.js"></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/layouts/categoryList.js"></script>


    <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/tools/localSearch.js"></script>



    <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/tools/codeBlock.js"></script>



    <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/layouts/lazyload.js"></script>



    <script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/tools/runtime.js"></script>
    <script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/odometer.min.js"></script>
    <link rel="stylesheet" href="//evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/assets/odometer-theme-minimal.css">



  <script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/Typed.min.js"></script>
  <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/plugins/typed.js"></script>



    <script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/mermaid.min.js"></script>
    <script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/plugins/mermaid.js"></script>



    <script src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/libs/minimasonry.min.js"></script>
    <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/plugins/masonry.js"></script>




<div class="post-scripts" data-swup-reload-script>
    
        <script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/tools/tocToggle.js"></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/layouts/toc.js"></script><script type="module" src="https://evan.beee.top/projects/hexo-theme-redefine@2.6.1/source/js/plugins/tabs.js"></script>
    
</div>


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>